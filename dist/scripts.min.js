let pokemonRepository=function(){let t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=1000";function n(e){t.push(e)}function s(t,e){t.addEventListener("click",function(){!function(t){a(t).then(function(){!function(t){let e=$(".modal-body"),n=$(".modal-title"),s=[];t.types.forEach((e,n)=>{s.push(" "+t.types[n].type.name)});let i=[];t.abilities.forEach((e,n)=>{i.push(" "+t.abilities[n].ability.name)}),n.empty(),e.empty();let a=$("<h2>"+t.name+"</h2>"),o=$('<img class="modal-img" style="width:50%">');o.attr("src",t.imageUrlFront);let l=$('<img class="modal-img" style="width:50%">');l.attr("src",t.imageUrlBack);let c=$('<img class="modal-img" style="width:50%">');c.attr("src",t.imageUrlShinyBack);let r=$('<img class="modal-img" style="width:50%">');r.attr("src",t.imageUrlShinyFront);let d=$('<p class="col-6">type: '+s+"</p>"),p=$('<p class="col-6">Abilities: '+i+"</p>"),m=$('<p class="col-6">Height: '+t.height+"</p>"),y=$('<p class="col-6">Weight: '+t.weight+"</p>");n.append(a),e.append(o),e.append(l),e.append(r),e.append(c),e.append(m),e.append(d),e.append(y),e.append(p)}(t)})}(e)})}function i(t){let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){t.types=e.types}).then(function(){}).catch(function(t){console.error(t)})}function a(t){let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){t.imageUrlFront=e.sprites.front_default,t.imageUrlBack=e.sprites.back_default,t.imageUrlShinyFront=e.sprites.front_shiny,t.imageUrlShinyBack=e.sprites.back_shiny,t.height=e.height,t.abilities=e.abilities,t.weight=e.weight}).then(function(){}).catch(function(t){console.error(t)})}function o(){let t=document.querySelector(".pokemon-list"),e=document.createElement("h2");e.innerText="Loading",t.appendChild(e)}function l(){let t=document.querySelector(".pokemon-list"),e=document.querySelector("h2");t.removeChild(e)}let c=document.querySelector(".form-control");return c.addEventListener("input",function(){let t=c.value.toLowerCase();document.querySelectorAll("li").forEach(function(e){e.innerText.toLowerCase().indexOf(t)<0?e.style.display="none":e.style.display=""})}),{add:n,getAll:function(){return t},loadList:function(){return o(),fetch(e).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){n({name:t.name,detailsUrl:t.url})})}).then(function(){l()}).catch(function(t){console.error(t),l()})},addListItem:function(t){let e=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("group-list-item","col-5","col-md-4","col-lg-4","col-xl-4","p-2");let a=document.createElement("button");a.innerText=t.name,i(t),a.classList.add("pokemonButton","btn","btn-block"),"grass"===t.types[0].type.name?a.classList.add("btn-grass"):"bug"===t.types[0].type.name?a.classList.add("btn-bug"):"dark"===t.types[0].type.name?a.classList.add("btn-dark"):"dragon"===t.types[0].type.name?a.classList.add("btn-dragon"):"electric"===t.types[0].type.name?a.classList.add("btn-electric"):"fairy"===t.types[0].type.name?a.classList.add("btn-fairy"):"fighting"===t.types[0].type.name?a.classList.add("btn-fighting"):"fire"===t.types[0].type.name?a.classList.add("btn-fire"):"flying"===t.types[0].type.name?a.classList.add("btn-flying"):"ghost"===t.types[0].type.name?a.classList.add("btn-ghost"):"ground"===t.types[0].type.name?a.classList.add("btn-ground"):"ice"===t.types[0].type.name?a.classList.add("btn-ice"):"normal"===t.types[0].type.name?a.classList.add("btn-normal"):"poison"===t.types[0].type.name?a.classList.add("btn-poison"):"psychic"===t.types[0].type.name?a.classList.add("btn-psychic"):"rock"===t.types[0].type.name?a.classList.add("btn-rock"):"steel"===t.types[0].type.name?a.classList.add("btn-steel"):"water"===t.types[0].type.name&&a.classList.add("btn-water"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#detailsModal"),s(a,t),n.appendChild(a),e.appendChild(n)},loadDetails:a,showLoadingMessage:o,hideLoadingMessage:l,buttonEvent:s,getType:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.getType(t).then(function(){pokemonRepository.addListItem(t)})})});
